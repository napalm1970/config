function gemini
    # –ü—É—Ç—å –∫ –≤–∞—à–µ–π –±–∞–∑–µ KeePassXC
    set -l db_path "$HOME/SkladWin/mydb.kdbx"
    # –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –±–∞–∑–µ
    set -l entry_name gemini-api

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤–≤–æ–¥–∏–ª–∏ –ª–∏ –º—ã –º–∞—Å—Ç–µ—Ä-–ø–∞—Ä–æ–ª—å –≤ —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
    if not set -q MASTER_PASS
        echo "üîê –í–≤–µ–¥–∏—Ç–µ –º–∞—Å—Ç–µ—Ä-–ø–∞—Ä–æ–ª—å –æ—Ç –±–∞–∑—ã KeePassXC:"
        read -s MASTER_PASS
    end

    # –ò–∑–≤–ª–µ–∫–∞–µ–º –∫–ª—é—á –∏–∑ –±–∞–∑—ã
    # –ü–µ—Ä–µ–¥–∞–µ–º –º–∞—Å—Ç–µ—Ä-–ø–∞—Ä–æ–ª—å —á–µ—Ä–µ–∑ pipe, —á—Ç–æ–±—ã –Ω–µ —Å–≤–µ—Ç–∏—Ç—å –µ–≥–æ –≤ ps
    set -l api_key (echo $MASTER_PASS | keepassxc-cli show $db_path $entry_name -a password 2>/dev/null)

    if test $status -ne 0
        echo "‚ùå –û—à–∏–±–∫–∞: –ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫—Ä—ã—Ç—å –±–∞–∑—É –∏–ª–∏ –Ω–∞–π—Ç–∏ –∑–∞–ø–∏—Å—å. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–æ–ª—å –∏ –ø—É—Ç—å."
        set -e MASTER_PASS # –°–±—Ä–∞—Å—ã–≤–∞–µ–º –Ω–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å
        return 1
    end

    # –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ã—á–Ω–æ –∏—â—É—Ç CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
    set -gx GEMINI_API_KEY $api_key
    set -gx GOOGLE_API_KEY $api_key

    # –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∞–º gemini-cli —Å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
    # (–ó–¥–µ—Å—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞ gemini-cli, —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –æ–Ω–∞ —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —É –≤–∞—Å)
    command gemini $argv
end
